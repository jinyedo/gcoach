<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">

<head>
    <link rel="stylesheet" th:href="@{/css/admin.css}">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>관리자페이지</title>
    <style>
        .upload-page h1 {
            color: #ffffff;
            opacity: 1.0;
        }
    </style>
</head>

<body>
    <header>
        <img th:src="@{/images/logo_white.png}">
        <a th:href="@{/}" class="member-page">
            <h1>회원 관리</h1>
        </a>
        <a th:href="@{/}" class="contents-page">
            <h1>콘텐츠 관리</h1>
        </a>
        <a th:href="@{/admin/contents/upload}" class="upload-page">
            <h1>콘텐츠 업로드</h1>
        </a>
    </header>
    <h1 class="form-title">G-COACH에 콘텐츠를 업로드해주세요.</h1>
    <!--
    <h1 class="form-title">G-COACH에 콘텐츠가 성공적으로 업로드 되었습니다!</h1>
    -->
    <form id="uploadform" method="POST" enctype="multipart/form-data" th:object="${contentUploadDTO}" th:action="@{/admin/contents/upload}">
        <table class="form-table">
            <tr>
                <td class="table-left"><p>제목</p></td>
                <td class="table-right">
                    <input type="text" name="title" class="input__text" maxlength="20" placeholder="20자 내로 작성해주세요.">
                </td>
            </tr>
            <tr>
                <td class="table-left"><p>카테고리</p></td>
                <td class="table-right__select">
                    <select name="category" id="select-category1">
                        <option value="">category 1</option>
                        <option value="호흡">호흡</option>
                        <option value="명상">명상</option>
                        <option value="힐링">힐링</option>
                        <option value="행복">행복</option>
                        <option value="수면">숙면</option>
                        <option value="관계증진">관계증진</option>
                        <option value="집중력">집중력</option>
                        <option value="자기이해">자기이해</option>
                        <option value="긍정">긍정</option>
                        <option value="건강">건강</option>
                        <option value="자존감">자존감</option>
                        <option value="스트레스">스트레스</option>
                        <option value="운동">운동</option>
                        <option value="즐거움">즐거움</option>
                        <option value="슬픔">슬픔</option>
                        <option value="외로움">외로움</option>
                        <option value="우울">우울</option>
                        <option value="화">화</option>
                        <option value="불안">불안</option>
                        <option value="게으름">게으름</option>
                        <option value="피곤">피곤</option>
                        <option value="힘듦">힘듦</option>
                        <option value="짬짬히">짬짬히</option>
                        <option value="자기계발">자기계발</option>
                        <option value="키즈">키즈</option>
                        <option value="asmr">asmr</option>
                    </select>
                    <select name="category2" id="select-category2">
                        <option value="">category 2</option>
                        <option value="호흡">호흡</option>
                        <option value="명상">명상</option>
                        <option value="힐링">힐링</option>
                        <option value="행복">행복</option>
                        <option value="수면">숙면</option>
                        <option value="관계증진">관계증진</option>
                        <option value="집중력">집중력</option>
                        <option value="자기이해">자기이해</option>
                        <option value="긍정">긍정</option>
                        <option value="건강">건강</option>
                        <option value="자존감">자존감</option>
                        <option value="스트레스">스트레스</option>
                        <option value="운동">운동</option>
                        <option value="즐거움">즐거움</option>
                        <option value="슬픔">슬픔</option>
                        <option value="외로움">외로움</option>
                        <option value="우울">우울</option>
                        <option value="화">화</option>
                        <option value="불안">불안</option>
                        <option value="게으름">게으름</option>
                        <option value="피곤">피곤</option>
                        <option value="힘듦">힘듦</option>
                        <option value="짬짬히">짬짬히</option>
                        <option value="자기계발">자기계발</option>
                        <option value="키즈">키즈</option>
                        <option value="asmr">asmr</option>
                    </select>
                    <select name="category3" id="select-category3">
                        <option value="">category 3</option>
                        <option value="호흡">호흡</option>
                        <option value="명상">명상</option>
                        <option value="힐링">힐링</option>
                        <option value="행복">행복</option>
                        <option value="수면">숙면</option>
                        <option value="관계증진">관계증진</option>
                        <option value="집중력">집중력</option>
                        <option value="자기이해">자기이해</option>
                        <option value="긍정">긍정</option>
                        <option value="건강">건강</option>
                        <option value="자존감">자존감</option>
                        <option value="스트레스">스트레스</option>
                        <option value="운동">운동</option>
                        <option value="즐거움">즐거움</option>
                        <option value="슬픔">슬픔</option>
                        <option value="외로움">외로움</option>
                        <option value="우울">우울</option>
                        <option value="화">화</option>
                        <option value="불안">불안</option>
                        <option value="게으름">게으름</option>
                        <option value="피곤">피곤</option>
                        <option value="힘듦">힘듦</option>
                        <option value="짬짬히">짬짬히</option>
                        <option value="자기계발">자기계발</option>
                        <option value="키즈">키즈</option>
                        <option value="asmr">asmr</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td class="table-left"><p>내용</p></td>
                <td class="table-right">
                    <input type="text" name="content" class="input__text" maxlength="30" placeholder="30자 내로 작성해주세요.">
                    </div>
                </td>
            </tr>

            <tr>
                <td class="table-left"><p>MP3 파일</p></td>
                <td class="table-right__upload">
                    <input type="text" id="file-route" disabled="disabled" value="파일을 선택하세요.">
                    <label class="upload-btn" for="file-picker">파일 선택</label>
                    <input type="file" name="file" id="file-picker" required=true>
                </td>
            </tr>

            <tr>
                <td class="table-left"><p>썸네일 이미지</p></td>
                <td class="table-right__upload">
                    <input type="text" id="img-route" disabled="disabled" value="파일을 선택하세요.">
                    <label for="img-picker">파일 선택</label>
                    <input type="file" name="img" id="img-picker" required=true>
                </td>
            </tr>
            <tr>
                <td colspan="2" class="table-bottom"><input type="submit" value="업로드" id="upload"></td>
            </tr>
        </table>
    </form>
    <div th:if="${message}">
        <h1 th:text="${message}"/>
    </div>
</body>
<script>
    const reader = new FileReader();

    document.querySelector("#file-picker").addEventListener("change", (changeEvent) => {

        const mp3File = changeEvent.target.files[0];
        reader.readAsDataURL(mp3File);

        const fileName = document.getElementById("file-route");
        fileName.value = mp3File.name;
    })

    const reader2 = new FileReader();

    document.querySelector("#img-picker").addEventListener("change", (changeEvent) => {

        const imgFile = changeEvent.target.files[0];
        reader2.readAsDataURL(imgFile);

        const fileName = document.getElementById("img-route");
        fileName.value = imgFile.name;
    })
</script>

</html>