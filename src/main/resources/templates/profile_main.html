<!DOCTYPE html>
<html lang="kr" xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0, minimum-scale=1.0">
    <title>[[${memberDTO.username}]] 프로필</title>
    <script language="JavaScript">
        function submit() {
            with (document.searchForm) {
                if (inputSearch.value.length == 0) {
                    alert("검색어를 입력해 주세요!!");
                    inputSearch.focus();
                    return false;
                }
                document.searchForm.submit();
            }
        }
    </script>
</head>
<body>
<header class="main-header">
    <div class="main-header__left">
        <span><a href="sidebar.html"><i class="fas fa-bars fa-sm"></i></a></span>
        <img th:src="@{/images/logo.png}">
    </div>
    <div class="main-header__right">
        <form name="searchForm" th:action="@{/search}" th:method="get" th:object="${searchDTO}">
            <input class="main-header__right-input" name="" type="text" placeholder="">
            <button class="main-header__right-icon" name="" type="submit" value=""><i class="fas fa-search"></i></button>
        </form>
    </div>
</header>

<nav class="diary-navbar">
    <ul class="diary-nav__ul">
        <li class="diary-nav__li"><p class="diary-nav__p">프로필</p></li>
    </ul>
</nav>

<main class="serve-screen">
    <div class="profile-screen">
        <div class="profile-container">
            <div class="profile-container__user">
                <div class="user">
                    <img th:src="@{/images/userimage.jpg}" alt="">
                </div>
            </div>
        </div>
        <div class="profile-container">
            <div class="profile-data">
                <h1>닉네임 : [[${memberDTO.nickname}]]</h1>
                <h1>관심사 : [[${memberDTO.interest}]]</h1>
                <h1>감정 : [[${memberDTO.emotion}]]</h1>
            </div>
        </div>
        <div class="profile-container">
            <div class="profile-btn"><a th:href="@{/profile_changeNickname}"><button>닉네임 변경</button></a></div>
            <div th:if="${!memberDTO.formSocial}" class="profile-btn"><a th:href="@{/profile_changePassword}"><button>비밀번호 변경</button></a></div>
            <div class="profile-btn"><a th:href="@{/profile_changeInterest}"><button>관심리스트 변경</button></a></div>
            <div class="profile-btn"><a th:href="@{/profile_changeEmotion}"><button>감정 변경</button></a></div>
            <div class="profile-btn"><button onclick="logout()">로그아웃</button></div>
        </div>
    </div>
</main>

<footer class="main-footer">
    <a href="#"><p class="footer__text">회사소개</p></a>
    <a href="#"><p class="footer__text">개인정보 처리방침</p></a>
    <a href="#"><p class="footer__text">서비스 이용약관</p></a>
    <a href="#"><p class="footer__text">청소년 보호정책</p></a>
</footer>

<script th:src="@{https://kit.fontawesome.com/d1dbd1f9d9.js}" crossorigin="anonymous"></script>
<script th:src="@{/jquery/jquery.min.js}"></script>
<script th:inline="javascript">
    const msg = [[${msg}]];
    if (msg !== null && msg !== "") {
        alert(msg);
    }

    function logout() {
        const result = confirm("정말로 로그아웃 하시겠습니까?");
        if (result) {
            parent.location.href="/logout"
        }
    }
</script>
</body>
</html>